<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Make CT Predictors — make_predictors • ichseg</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Make CT Predictors — make_predictors" />
<meta property="og:description" content="Create a set of predictors for ICH segmentation
for CT" />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ichseg</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.17.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/installing-ichseg-getting-started.html">Installing ichseg and Getting Started</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/muschellij2/ichseg/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Make CT Predictors</h1>
    <small class="dont-index">Source: <a href='https://github.com/muschellij2/ichseg/blob/master/R/make_predictors.R'><code>R/make_predictors.R</code></a></small>
    <div class="hidden name"><code>make_predictors.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create a set of predictors for ICH segmentation
for CT</p>
    </div>

    <pre class="usage"><span class='fu'>make_predictors</span>(
  <span class='no'>img</span>,
  <span class='no'>mask</span>,
  <span class='kw'>roi</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>nvoxels</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>moments</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>4</span>,
  <span class='kw'>center</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>FALSE</span>, <span class='fl'>TRUE</span>, <span class='fl'>TRUE</span>, <span class='fl'>TRUE</span>),
  <span class='kw'>lthresh</span> <span class='kw'>=</span> <span class='fl'>40</span>,
  <span class='kw'>uthresh</span> <span class='kw'>=</span> <span class='fl'>80</span>,
  <span class='kw'>sigmas</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>5</span>, <span class='fl'>10</span>, <span class='fl'>20</span>),
  <span class='kw'>save_imgs</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>outdir</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>stub</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>overwrite</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>template.file</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"scct_unsmooth_SS_0.01.nii.gz"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"ichseg"</span>),
  <span class='kw'>mean.img</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"Mean_Image.nii.gz"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"ichseg"</span>),
  <span class='kw'>sd.img</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"SD_Image.nii.gz"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"ichseg"</span>),
  <span class='kw'>zscore.typeofTransform</span> <span class='kw'>=</span> <span class='st'>"SyN"</span>,
  <span class='kw'>zscore.interpolator</span> <span class='kw'>=</span> <span class='st'>"Linear"</span>,
  <span class='kw'>flip.typeofTransform</span> <span class='kw'>=</span> <span class='st'>"Affine"</span>,
  <span class='kw'>flip.interpolator</span> <span class='kw'>=</span> <span class='st'>"LanczosWindowedSinc"</span>,
  <span class='kw'>low_thresh</span> <span class='kw'>=</span> <span class='fl'>1e-13</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>shiny</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>erode_mask</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>img</th>
      <td><p>Filename of image intensities</p></td>
    </tr>
    <tr>
      <th>mask</th>
      <td><p>Filename of brain mask</p></td>
    </tr>
    <tr>
      <th>roi</th>
      <td><p>Filename of ROI for Y</p></td>
    </tr>
    <tr>
      <th>nvoxels</th>
      <td><p>Voxel neighborhood</p></td>
    </tr>
    <tr>
      <th>moments</th>
      <td><p>Moments of neighborhood to take</p></td>
    </tr>
    <tr>
      <th>center</th>
      <td><p>Center the moments</p></td>
    </tr>
    <tr>
      <th>lthresh</th>
      <td><p>Lower threshold for neighborhood setting</p></td>
    </tr>
    <tr>
      <th>uthresh</th>
      <td><p>Upper threshold for neighborhood setting</p></td>
    </tr>
    <tr>
      <th>sigmas</th>
      <td><p>Sigma values for Gaussian smoothed images (in mm)</p></td>
    </tr>
    <tr>
      <th>save_imgs</th>
      <td><p>Logical to save all images that are created as
predictors</p></td>
    </tr>
    <tr>
      <th>outdir</th>
      <td><p>Output directory of saved images, needs to be set
if <code>save_imgs = TRUE</code></p></td>
    </tr>
    <tr>
      <th>stub</th>
      <td><p>Basename to write image names if <code>save_imgs = TRUE</code></p></td>
    </tr>
    <tr>
      <th>overwrite</th>
      <td><p>If <code>save_imgs</code> is <code>TRUE</code>,
then should
the files be overwritten?  If not, then files will be read
instead instead of code being re-run.</p></td>
    </tr>
    <tr>
      <th>template.file</th>
      <td><p>Template to register to (CT Template)</p></td>
    </tr>
    <tr>
      <th>mean.img</th>
      <td><p>Mean image in template space for z-scoring</p></td>
    </tr>
    <tr>
      <th>sd.img</th>
      <td><p>SD image in template space for z-scoring</p></td>
    </tr>
    <tr>
      <th>zscore.typeofTransform</th>
      <td><p>type of transform for z-scoring</p></td>
    </tr>
    <tr>
      <th>zscore.interpolator</th>
      <td><p>type of interpolator for z-scoring</p></td>
    </tr>
    <tr>
      <th>flip.typeofTransform</th>
      <td><p>type of transform for flipped difference</p></td>
    </tr>
    <tr>
      <th>flip.interpolator</th>
      <td><p>type of interpolator for flipped difference</p></td>
    </tr>
    <tr>
      <th>low_thresh</th>
      <td><p>Threshold for forcing values to zero</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Logical indicator if output messages should be
printed</p></td>
    </tr>
    <tr>
      <th>shiny</th>
      <td><p>Should shiny progress be called?</p></td>
    </tr>
    <tr>
      <th>erode_mask</th>
      <td><p>Should the brain mask be eroded?</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>options passed to <code><a href='get_neighbors.html'>get_neighbors</a></code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>List of a data.frame of Predictors and set of
indices to
keep in mask and an empty nifti object for plotting.
Also the number of voxels of the roi that were not in the
mask</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by John Muschelli.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


